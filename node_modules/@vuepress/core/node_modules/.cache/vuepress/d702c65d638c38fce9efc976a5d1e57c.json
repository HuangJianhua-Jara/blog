{"remainingRequest":"E:\\测试个人博客2\\blog\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\测试个人博客2\\blog\\node_modules\\vuepress-plugin-meting\\lib\\Meting.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\测试个人博客2\\blog\\node_modules\\vuepress-plugin-meting\\lib\\Meting.vue","mtime":1622834215364},{"path":"E:\\测试个人博客2\\blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1622039384438},{"path":"E:\\测试个人博客2\\blog\\node_modules\\babel-loader\\lib\\index.js","mtime":1622039381134},{"path":"E:\\测试个人博客2\\blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1622039384438},{"path":"E:\\测试个人博客2\\blog\\node_modules\\vue-loader\\lib\\index.js","mtime":1622039385909}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdNZXRpbmcnLA0KICBwcm9wczogew0KICAgIGF1dG86IHsNCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICcnLA0KICAgIH0sDQogICAgc2VydmVyOiB7DQogICAgICByZXF1aXJlZDogZmFsc2UsDQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OiAnJywNCiAgICB9LA0KICAgIHR5cGU6IHsNCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICcnLA0KICAgIH0sDQogICAgbWlkOiB7DQogICAgICByZXF1aXJlZDogZmFsc2UsDQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OiAnJywNCiAgICB9LA0KICAgIGFkZGl0aW9uYWxBdWRpb3M6IHsNCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwNCiAgICAgIHR5cGU6IEFycmF5LA0KICAgICAgZGVmYXVsdDogKCkgPT4gW10sDQogICAgfSwNCiAgICBmaXhlZDogew0KICAgICAgcmVxdWlyZWQ6IGZhbHNlLA0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IGZhbHNlLA0KICAgIH0sDQogICAgbWluaTogew0KICAgICAgcmVxdWlyZWQ6IGZhbHNlLA0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IG51bGwsDQogICAgfSwNCiAgICBhdXRvcGxheTogew0KICAgICAgcmVxdWlyZWQ6IGZhbHNlLA0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IGZhbHNlLA0KICAgIH0sDQogICAgdGhlbWU6IHsNCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICcjYjdkYWZmJywNCiAgICB9LA0KICAgIGxvb3A6IHsNCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICdhbGwnLA0KICAgIH0sDQogICAgb3JkZXI6IHsNCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICdsaXN0JywNCiAgICB9LA0KICAgIHByZWxvYWQ6IHsNCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICdhdXRvJywNCiAgICB9LA0KICAgIHZvbHVtZTogew0KICAgICAgcmVxdWlyZWQ6IGZhbHNlLA0KICAgICAgdHlwZTogTnVtYmVyLA0KICAgICAgZGVmYXVsdDogMC43LA0KICAgIH0sDQogICAgY3VzdG9tQXVkaW9UeXBlOiB7DQogICAgICByZXF1aXJlZDogZmFsc2UsDQogICAgICB0eXBlOiBPYmplY3QsDQogICAgICBkZWZhdWx0OiB1bmRlZmluZWQsDQogICAgfSwNCiAgICBtdXRleDogew0KICAgICAgcmVxdWlyZWQ6IGZhbHNlLA0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IHRydWUsDQogICAgfSwNCiAgICBscmNUeXBlOiB7DQogICAgICByZXF1aXJlZDogZmFsc2UsDQogICAgICB0eXBlOiBOdW1iZXIsDQogICAgICBkZWZhdWx0OiAwLA0KICAgIH0sDQogICAgbGlzdEZvbGRlZDogew0KICAgICAgcmVxdWlyZWQ6IGZhbHNlLA0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IGZhbHNlLA0KICAgIH0sDQogICAgbGlzdE1heEhlaWdodDogew0KICAgICAgcmVxdWlyZWQ6IGZhbHNlLA0KICAgICAgdHlwZTogTnVtYmVyLA0KICAgICAgZGVmYXVsdDogMjUwLA0KICAgIH0sDQogICAgc3RvcmFnZU5hbWU6IHsNCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICd2dWVwcmVzcy1wbHVnaW4tbWV0aW5nJywNCiAgICB9LA0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBtZXRpbmdBcGk6IE1FVElOR19BUEksDQogICAgICBhdWRpbzogW10sDQogICAgfQ0KICB9LA0KDQogIG1vdW50ZWQoKSB7DQogICAgaWYgKHRoaXMuYXV0bykgdGhpcy5fcGFyc2VfbGluaygpDQoNCiAgICBjb25zdCBwYXJhbXMgPSB7DQogICAgICBzZXJ2ZXI6IHRoaXMuc2VydmVyLA0KICAgICAgdHlwZTogdGhpcy50eXBlLA0KICAgICAgaWQ6IHRoaXMubWlkLA0KICAgICAgcjogTWF0aC5yYW5kb20oKSwNCiAgICB9DQoNCiAgICBsZXQgdXJsID0gdGhpcy5tZXRpbmdBcGkNCiAgICBsZXQgcGFyYW1zQXJyYXkgPSBbXQ0KICAgIE9iamVjdC5rZXlzKHBhcmFtcykuZm9yRWFjaCgoa2V5KSA9PiBwYXJhbXNBcnJheS5wdXNoKGtleSArICc9JyArIHBhcmFtc1trZXldKSkNCiAgICB1cmwgKz0gJz8nICsgcGFyYW1zQXJyYXkuam9pbignJicpDQoNCiAgICBmZXRjaCh1cmwsIHsNCiAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgcmVmZXJlcjogbnVsbCwNCiAgICAgIH0sDQogICAgfSkNCiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpDQogICAgICAudGhlbigocmVzdWx0KSA9PiB7DQogICAgICAgIGNvbnN0IHJlcyA9IHJlc3VsdC5tYXAoKG9iaikgPT4gew0KICAgICAgICAgIGNvbnN0IHJPYmogPSB7fQ0KICAgICAgICAgIHJPYmoubmFtZSA9IG9iai50aXRsZQ0KICAgICAgICAgIHJPYmouYXJ0aXN0ID0gb2JqLmF1dGhvcg0KICAgICAgICAgIHJPYmoudXJsID0gb2JqLnVybA0KICAgICAgICAgIHJPYmouY292ZXIgPSBvYmoucGljDQogICAgICAgICAgck9iai5scmMgPSBvYmoubHJjDQogICAgICAgICAgcmV0dXJuIHJPYmoNCiAgICAgICAgfSkNCiAgICAgICAgdGhpcy5hdWRpbyA9IHJlcy5jb25jYXQodGhpcy5hZGRpdGlvbmFsQXVkaW9zKQ0KICAgICAgfSkNCiAgfSwNCg0KICBtZXRob2RzOiB7DQogICAgX3BhcnNlX2xpbmsoKSB7DQogICAgICBsZXQgcnVsZXMgPSBbDQogICAgICAgIFsnbXVzaWMuMTYzLmNvbS4qc29uZy4qaWQ9KFxcZCspJywgJ25ldGVhc2UnLCAnc29uZyddLA0KICAgICAgICBbJ211c2ljLjE2My5jb20uKmFsYnVtLippZD0oXFxkKyknLCAnbmV0ZWFzZScsICdhbGJ1bSddLA0KICAgICAgICBbJ211c2ljLjE2My5jb20uKmFydGlzdC4qaWQ9KFxcZCspJywgJ25ldGVhc2UnLCAnYXJ0aXN0J10sDQogICAgICAgIFsnbXVzaWMuMTYzLmNvbS4qcGxheWxpc3QuKmlkPShcXGQrKScsICduZXRlYXNlJywgJ3BsYXlsaXN0J10sDQogICAgICAgIFsnbXVzaWMuMTYzLmNvbS4qZGlzY292ZXIvdG9wbGlzdC4qaWQ9KFxcZCspJywgJ25ldGVhc2UnLCAncGxheWxpc3QnXSwNCiAgICAgICAgWyd5LnFxLmNvbS4qc29uZy8oXFx3KykuaHRtbCcsICd0ZW5jZW50JywgJ3NvbmcnXSwNCiAgICAgICAgWyd5LnFxLmNvbS4qYWxidW0vKFxcdyspLmh0bWwnLCAndGVuY2VudCcsICdhbGJ1bSddLA0KICAgICAgICBbJ3kucXEuY29tLipzaW5nZXIvKFxcdyspLmh0bWwnLCAndGVuY2VudCcsICdhcnRpc3QnXSwNCiAgICAgICAgWyd5LnFxLmNvbS4qcGxheXNxdWFyZS8oXFx3KykuaHRtbCcsICd0ZW5jZW50JywgJ3BsYXlsaXN0J10sDQogICAgICAgIFsneS5xcS5jb20uKnBsYXlsaXN0LyhcXHcrKS5odG1sJywgJ3RlbmNlbnQnLCAncGxheWxpc3QnXSwNCiAgICAgICAgWyd4aWFtaS5jb20uKnNvbmcvKFxcdyspJywgJ3hpYW1pJywgJ3NvbmcnXSwNCiAgICAgICAgWyd4aWFtaS5jb20uKmFsYnVtLyhcXHcrKScsICd4aWFtaScsICdhbGJ1bSddLA0KICAgICAgICBbJ3hpYW1pLmNvbS4qYXJ0aXN0LyhcXHcrKScsICd4aWFtaScsICdhcnRpc3QnXSwNCiAgICAgICAgWyd4aWFtaS5jb20uKmNvbGxlY3QvKFxcdyspJywgJ3hpYW1pJywgJ3BsYXlsaXN0J10sDQogICAgICBdDQoNCiAgICAgIGZvciAobGV0IHJ1bGUgb2YgcnVsZXMpIHsNCiAgICAgICAgbGV0IHBhdHQgPSBuZXcgUmVnRXhwKHJ1bGVbMF0pDQogICAgICAgIGxldCByZXMgPSBwYXR0LmV4ZWModGhpcy5hdXRvKQ0KICAgICAgICBpZiAocmVzICE9PSBudWxsKSB7DQogICAgICAgICAgdGhpcy5zZXJ2ZXIgPSBydWxlWzFdDQogICAgICAgICAgdGhpcy50eXBlID0gcnVsZVsyXQ0KICAgICAgICAgIHRoaXMubWlkID0gcmVzWzFdDQogICAgICAgICAgcmV0dXJuDQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICB9LA0KfQ0K"},{"version":3,"sources":["Meting.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Meting.vue","sourceRoot":"node_modules/vuepress-plugin-meting/lib","sourcesContent":["<template>\r\n  <APlayer\r\n    :audio=\"audio\"\r\n    :fixed=\"fixed\"\r\n    :mini=\"mini\"\r\n    :autoplay=\"autoplay\"\r\n    :theme=\"theme\"\r\n    :loop=\"loop\"\r\n    :order=\"order\"\r\n    :preload=\"preload\"\r\n    :volume=\"volume\"\r\n    :custom-audio-type=\"customAudioType\"\r\n    :mutex=\"mutex\"\r\n    :lrc-type=\"lrcType\"\r\n    :list-folded=\"listFolded\"\r\n    :list-max-height=\"listMaxHeight\"\r\n    :storage-name=\"storageName\"\r\n  />\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Meting',\r\n  props: {\r\n    auto: {\r\n      required: false,\r\n      type: String,\r\n      default: '',\r\n    },\r\n    server: {\r\n      required: false,\r\n      type: String,\r\n      default: '',\r\n    },\r\n    type: {\r\n      required: false,\r\n      type: String,\r\n      default: '',\r\n    },\r\n    mid: {\r\n      required: false,\r\n      type: String,\r\n      default: '',\r\n    },\r\n    additionalAudios: {\r\n      required: false,\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n    fixed: {\r\n      required: false,\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    mini: {\r\n      required: false,\r\n      type: Boolean,\r\n      default: null,\r\n    },\r\n    autoplay: {\r\n      required: false,\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    theme: {\r\n      required: false,\r\n      type: String,\r\n      default: '#b7daff',\r\n    },\r\n    loop: {\r\n      required: false,\r\n      type: String,\r\n      default: 'all',\r\n    },\r\n    order: {\r\n      required: false,\r\n      type: String,\r\n      default: 'list',\r\n    },\r\n    preload: {\r\n      required: false,\r\n      type: String,\r\n      default: 'auto',\r\n    },\r\n    volume: {\r\n      required: false,\r\n      type: Number,\r\n      default: 0.7,\r\n    },\r\n    customAudioType: {\r\n      required: false,\r\n      type: Object,\r\n      default: undefined,\r\n    },\r\n    mutex: {\r\n      required: false,\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    lrcType: {\r\n      required: false,\r\n      type: Number,\r\n      default: 0,\r\n    },\r\n    listFolded: {\r\n      required: false,\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    listMaxHeight: {\r\n      required: false,\r\n      type: Number,\r\n      default: 250,\r\n    },\r\n    storageName: {\r\n      required: false,\r\n      type: String,\r\n      default: 'vuepress-plugin-meting',\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      metingApi: METING_API,\r\n      audio: [],\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    if (this.auto) this._parse_link()\r\n\r\n    const params = {\r\n      server: this.server,\r\n      type: this.type,\r\n      id: this.mid,\r\n      r: Math.random(),\r\n    }\r\n\r\n    let url = this.metingApi\r\n    let paramsArray = []\r\n    Object.keys(params).forEach((key) => paramsArray.push(key + '=' + params[key]))\r\n    url += '?' + paramsArray.join('&')\r\n\r\n    fetch(url, {\r\n      headers: {\r\n        referer: null,\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const res = result.map((obj) => {\r\n          const rObj = {}\r\n          rObj.name = obj.title\r\n          rObj.artist = obj.author\r\n          rObj.url = obj.url\r\n          rObj.cover = obj.pic\r\n          rObj.lrc = obj.lrc\r\n          return rObj\r\n        })\r\n        this.audio = res.concat(this.additionalAudios)\r\n      })\r\n  },\r\n\r\n  methods: {\r\n    _parse_link() {\r\n      let rules = [\r\n        ['music.163.com.*song.*id=(\\\\d+)', 'netease', 'song'],\r\n        ['music.163.com.*album.*id=(\\\\d+)', 'netease', 'album'],\r\n        ['music.163.com.*artist.*id=(\\\\d+)', 'netease', 'artist'],\r\n        ['music.163.com.*playlist.*id=(\\\\d+)', 'netease', 'playlist'],\r\n        ['music.163.com.*discover/toplist.*id=(\\\\d+)', 'netease', 'playlist'],\r\n        ['y.qq.com.*song/(\\\\w+).html', 'tencent', 'song'],\r\n        ['y.qq.com.*album/(\\\\w+).html', 'tencent', 'album'],\r\n        ['y.qq.com.*singer/(\\\\w+).html', 'tencent', 'artist'],\r\n        ['y.qq.com.*playsquare/(\\\\w+).html', 'tencent', 'playlist'],\r\n        ['y.qq.com.*playlist/(\\\\w+).html', 'tencent', 'playlist'],\r\n        ['xiami.com.*song/(\\\\w+)', 'xiami', 'song'],\r\n        ['xiami.com.*album/(\\\\w+)', 'xiami', 'album'],\r\n        ['xiami.com.*artist/(\\\\w+)', 'xiami', 'artist'],\r\n        ['xiami.com.*collect/(\\\\w+)', 'xiami', 'playlist'],\r\n      ]\r\n\r\n      for (let rule of rules) {\r\n        let patt = new RegExp(rule[0])\r\n        let res = patt.exec(this.auto)\r\n        if (res !== null) {\r\n          this.server = rule[1]\r\n          this.type = rule[2]\r\n          this.mid = res[1]\r\n          return\r\n        }\r\n      }\r\n    },\r\n  },\r\n}\r\n</script>\r\n"]}]}