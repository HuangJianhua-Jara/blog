{"remainingRequest":"E:\\测试个人博客2\\blog\\node_modules\\babel-loader\\lib\\index.js??ref--3-1!E:\\测试个人博客2\\blog\\blog\\.vuepress\\public\\js\\TextScramble.js","dependencies":[{"path":"E:\\测试个人博客2\\blog\\blog\\.vuepress\\public\\js\\TextScramble.js","mtime":1622784678759},{"path":"E:\\测试个人博客2\\blog\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1622039384438},{"path":"E:\\测试个人博客2\\blog\\node_modules\\babel-loader\\lib\\index.js","mtime":1622039381134}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJFOi9cdTZENEJcdThCRDVcdTRFMkFcdTRFQkFcdTUzNUFcdTVCQTIyL2Jsb2cvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJFOi9cdTZENEJcdThCRDVcdTRFMkFcdTRFQkFcdTUzNUFcdTVCQTIyL2Jsb2cvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24uYmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwoKdmFyIFRleHRTY3JhbWJsZSA9Ci8qI19fUFVSRV9fKi8KLy8g5omT5a2X5py65Luj56CBCmZ1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBUZXh0U2NyYW1ibGUoZWwpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUZXh0U2NyYW1ibGUpOwoKICAgIHRoaXMuZWwgPSBlbDsKICAgIHRoaXMuY2hhcnMgPSAnITw+LV9cL1tde33igJQ9KypePyNfX19fX19fXyc7CiAgICB0aGlzLnVwZGF0ZSA9IHRoaXMudXBkYXRlLmJpbmQodGhpcyk7CiAgfQoKICBfY3JlYXRlQ2xhc3MoVGV4dFNjcmFtYmxlLCBbewogICAga2V5OiAic2V0VGV4dCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VGV4dChuZXdUZXh0KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgb2xkVGV4dCA9IHRoaXMuZWwuaW5uZXJUZXh0OwogICAgICB2YXIgbGVuZ3RoID0gTWF0aC5tYXgob2xkVGV4dC5sZW5ndGgsIG5ld1RleHQubGVuZ3RoKTsKICAgICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgIHJldHVybiBfdGhpcy5yZXNvbHZlID0gcmVzb2x2ZTsKICAgICAgfSk7CiAgICAgIHRoaXMucXVldWUgPSBbXTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgZnJvbSA9IG9sZFRleHRbaV0gfHwgJyc7CiAgICAgICAgdmFyIHRvID0gbmV3VGV4dFtpXSB8fCAnJzsKICAgICAgICB2YXIgc3RhcnQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA0MCk7CiAgICAgICAgdmFyIGVuZCA9IHN0YXJ0ICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNDApOwogICAgICAgIHRoaXMucXVldWUucHVzaCh7CiAgICAgICAgICBmcm9tOiBmcm9tLAogICAgICAgICAgdG86IHRvLAogICAgICAgICAgc3RhcnQ6IHN0YXJ0LAogICAgICAgICAgZW5kOiBlbmQKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5mcmFtZVJlcXVlc3QpOwogICAgICB0aGlzLmZyYW1lID0gMDsKICAgICAgdGhpcy51cGRhdGUoKTsKICAgICAgcmV0dXJuIHByb21pc2U7CiAgICB9CiAgfSwgewogICAga2V5OiAidXBkYXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGUoKSB7CiAgICAgIHZhciBoID0gdGhpcy4kY3JlYXRlRWxlbWVudDsKICAgICAgdmFyIG91dHB1dCA9ICcnOwogICAgICB2YXIgY29tcGxldGUgPSAwOwoKICAgICAgZm9yICh2YXIgaSA9IDAsIG4gPSB0aGlzLnF1ZXVlLmxlbmd0aDsgaSA8IG47IGkrKykgewogICAgICAgIHZhciBfdGhpcyRxdWV1ZSRpID0gdGhpcy5xdWV1ZVtpXSwKICAgICAgICAgICAgZnJvbSA9IF90aGlzJHF1ZXVlJGkuZnJvbSwKICAgICAgICAgICAgdG8gPSBfdGhpcyRxdWV1ZSRpLnRvLAogICAgICAgICAgICBzdGFydCA9IF90aGlzJHF1ZXVlJGkuc3RhcnQsCiAgICAgICAgICAgIGVuZCA9IF90aGlzJHF1ZXVlJGkuZW5kLAogICAgICAgICAgICBfY2hhciA9IF90aGlzJHF1ZXVlJGlbImNoYXIiXTsKCiAgICAgICAgaWYgKHRoaXMuZnJhbWUgPj0gZW5kKSB7CiAgICAgICAgICBjb21wbGV0ZSsrOwogICAgICAgICAgb3V0cHV0ICs9IHRvOwogICAgICAgIH0gZWxzZSBpZiAodGhpcy5mcmFtZSA+PSBzdGFydCkgewogICAgICAgICAgaWYgKCFfY2hhciB8fCBNYXRoLnJhbmRvbSgpIDwgMC4yOCkgewogICAgICAgICAgICBfY2hhciA9IHRoaXMucmFuZG9tQ2hhcigpOwogICAgICAgICAgICB0aGlzLnF1ZXVlW2ldWyJjaGFyIl0gPSBfY2hhcjsKICAgICAgICAgIH0KCiAgICAgICAgICBvdXRwdXQgKz0gaCgic3BhbiIsIHsKICAgICAgICAgICAgImNsYXNzIjogImR1ZCIKICAgICAgICAgIH0sIFsiJCIsIF9jaGFyXSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG91dHB1dCArPSBmcm9tOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy5lbC5pbm5lckhUTUwgPSBvdXRwdXQ7CgogICAgICBpZiAoY29tcGxldGUgPT09IHRoaXMucXVldWUubGVuZ3RoKSB7CiAgICAgICAgdGhpcy5yZXNvbHZlKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5mcmFtZVJlcXVlc3QgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy51cGRhdGUpOwogICAgICAgIHRoaXMuZnJhbWUrKzsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogInJhbmRvbUNoYXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJhbmRvbUNoYXIoKSB7CiAgICAgIHJldHVybiB0aGlzLmNoYXJzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRoaXMuY2hhcnMubGVuZ3RoKV07CiAgICB9CiAgfV0pOwoKICByZXR1cm4gVGV4dFNjcmFtYmxlOwp9KCk7CgpleHBvcnQgZGVmYXVsdCBUZXh0U2NyYW1ibGU7"},{"version":3,"sources":["E:/测试个人博客2/blog/blog/.vuepress/public/js/TextScramble.js"],"names":["TextScramble","el","chars","update","bind","newText","oldText","innerText","length","Math","max","promise","Promise","resolve","queue","i","from","to","start","floor","random","end","push","cancelAnimationFrame","frameRequest","frame","output","complete","n","char","randomChar","innerHTML","requestAnimationFrame"],"mappings":"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","sourcesContent":["const TextScramble = // 打字机代码\r\n    class {\r\n        constructor(el) {\r\n            this.el = el\r\n            this.chars = '!<>-_\\/[]{}—=+*^?#________'\r\n            this.update = this.update.bind(this)\r\n        }\r\n        setText(newText) {\r\n            const oldText = this.el.innerText\r\n            const length = Math.max(oldText.length, newText.length)\r\n            const promise = new Promise((resolve) => this.resolve = resolve)\r\n            this.queue = []\r\n            for (let i = 0; i < length; i++) {\r\n                const from = oldText[i] || ''\r\n                const to = newText[i] || ''\r\n                const start = Math.floor(Math.random() * 40)\r\n                const end = start + Math.floor(Math.random() * 40)\r\n                this.queue.push({ from, to, start, end })\r\n            }\r\n            cancelAnimationFrame(this.frameRequest)\r\n            this.frame = 0\r\n            this.update()\r\n            return promise\r\n        }\r\n        update() {\r\n            let output = ''\r\n            let complete = 0\r\n            for (let i = 0, n = this.queue.length; i < n; i++) {\r\n                let { from, to, start, end, char } = this.queue[i]\r\n                if (this.frame >= end) {\r\n                    complete++\r\n                    output += to\r\n                } else if (this.frame >= start) {\r\n                    if (!char || Math.random() < 0.28) {\r\n                        char = this.randomChar()\r\n                        this.queue[i].char = char\r\n                    }\r\n                    output += <span class=\"dud\">${char}</span>\r\n                } else {\r\n                    output += from\r\n                }\r\n            }\r\n            this.el.innerHTML = output\r\n            if (complete === this.queue.length) {\r\n                this.resolve()\r\n            } else {\r\n                this.frameRequest = requestAnimationFrame(this.update)\r\n                this.frame++\r\n            }\r\n        }\r\n        randomChar() {\r\n            return this.chars[Math.floor(Math.random() * this.chars.length)]\r\n        }\r\n    }\r\n\r\nexport default TextScramble"]}]}